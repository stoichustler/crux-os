#
# The roux on rk356x hypervisor (on process)
#
CONFIG_ARCH="arm64"
CONFIG_ARCH_ARM64=y
CONFIG_ARCH_BOARD="radxa-zero3w"
CONFIG_ARCH_BOARD_RADXA_ZERO3W=y
CONFIG_ARCH_CHIP="rk356x"
CONFIG_ARCH_CHIP_RK356X=y

# Memory support
CONFIG_GRAN=y
CONFIG_MM_PGALLOC=y

# CONFIG_ARM64_LOWPUTS=y
CONFIG_ARCH_EARLY_PRINT=y
CONFIG_ARCH_INTERRUPTSTACK=8192
CONFIG_ARCH_STACKDUMP=y
CONFIG_ARM64_STRING_FUNCTION=y
CONFIG_BENCHMARK_OSPERF=y
CONFIG_BOARDCTL_POWEROFF=y
CONFIG_BOARDCTL_RESET=y
CONFIG_BOARD_ASSERT_RESET_VALUE=2
CONFIG_BOARD_RESET_ON_ASSERT=2
CONFIG_BUILTIN=y
CONFIG_COVERAGE_ALL=y
CONFIG_COVERAGE_MINI=y

# Debug Information
CONFIG_DEBUG_ASSERTIONS=y
CONFIG_DEBUG_FEATURES=y
CONFIG_DEBUG_FULLOPT=y
CONFIG_DEBUG=y
CONFIG_DEBUG_ERROR=y
CONFIG_DEBUG_WARN=y
CONFIG_DEBUG_INFO=y
CONFIG_DEBUG_SCHED=y
CONFIG_DEBUG_SCHED_ERROR=y
CONFIG_DEBUG_SCHED_WARN=y
CONFIG_DEBUG_SCHED_INFO=y
CONFIG_DEBUG_SYMBOLS=y

# Other Configuration
CONFIG_DEFAULT_TASK_STACKSIZE=16384
CONFIG_EXAMPLES_HELLO=y
CONFIG_EXPERIMENTAL=y
CONFIG_FRAME_POINTER=y
CONFIG_FS_PROCFS=y
CONFIG_FS_PROCFS_REGISTER=y
CONFIG_FS_ROMFS=y
CONFIG_FS_TMPFS=y
CONFIG_HAVE_CXXINITIALIZE=y
CONFIG_IDLETHREAD_STACKSIZE=16384
CONFIG_INIT_ENTRYPOINT="nsh_main"
CONFIG_INTELHEX_BINARY=y
CONFIG_LIBC_EXECFUNCS=y
CONFIG_LIBC_MEMFD_ERROR=y
CONFIG_NSH_ARCHINIT=y
CONFIG_NSH_BUILTIN_APPS=y
CONFIG_NSH_FILEIOSIZE=512
CONFIG_NSH_READLINE=y
CONFIG_PIPES=y
CONFIG_PREALLOC_TIMERS=4
CONFIG_PTHREAD_STACK_MIN=16384

# RAM 128MB
CONFIG_RAM_SIZE=134217728
CONFIG_RAM_START=0x200000
CONFIG_RAW_BINARY=y
CONFIG_READLINE_CMD_HISTORY=y
CONFIG_RR_INTERVAL=200
CONFIG_SCHED_BACKTRACE=y
CONFIG_SCHED_HPWORK=y
CONFIG_SCHED_HPWORKPRIORITY=192
CONFIG_SMP=y
CONFIG_SMP_NCPUS=2
CONFIG_STACK_COLORATION=y
CONFIG_START_MONTH=3
CONFIG_START_YEAR=2022
CONFIG_SYMTAB_ORDEREDBYNAME=y
CONFIG_SYSTEM_GCOV=y
CONFIG_SYSTEM_NSH=y
CONFIG_SYSTEM_SYSTEM=y
CONFIG_SYSTEM_TASKSET=y
CONFIG_SYSTEM_TIME64=y
CONFIG_TESTING_GETPRIME=y
CONFIG_TESTING_OSTEST=y
CONFIG_TESTING_OSTEST_STACKSIZE=16384
CONFIG_TESTING_SMP=y

# Uart configuration
CONFIG_16550_UART=y
CONFIG_16550_UART2=y
CONFIG_16550_ADDRWIDTH=32
CONFIG_16550_UART2_BASE=0xfe660000
CONFIG_16550_UART2_IRQ=118
CONFIG_16550_UART2_BAUD=1500000
CONFIG_16550_UART2_CLOCK=24000000
CONFIG_16550_UART2_SERIAL_CONSOLE=y
CONFIG_SERIAL_UART_ARCH_MMIO=y

CONFIG_USEC_PER_TICK=1000

# Virtio configuration
CONFIG_DRIVERS_VIRTIO_MMIO=y
CONFIG_DRIVERS_VIRTIO_BLK=y
CONFIG_DRIVERS_VIRTIO_PCI=y
CONFIG_DRIVERS_VIRTIO_SND=y
CONFIG_DRIVERS_VIRTIO_SERIAL=y

# System Logging
CONFIG_SYSLOG=y
CONFIG_SYSLOG_CONSOLE=y
CONFIG_SYSLOG_TIMESTAMP=y
CONFIG_SYSLOG_COLOR_OUTPUT=y
CONFIG_DEV_CONSOLE=y

# Benchmark
# CONFIG_BENCHMARK_CYCLICTEST=y
